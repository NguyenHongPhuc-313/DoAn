@model IEnumerable<QuanLyKaraoke.Models.KhuyenMai>
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Khuy·∫øn m√£i</title>
    <link rel="stylesheet" href="@Url.Content("~/css/promotion.css")?v=@DateTime.Now.Ticks" />
</head>
<body>
    <!-- N·ªÅn particle -->
    <div id="particles-js"></div>

    <!-- N√∫t quay l·∫°i -->
    <div class="back-to-home">
        <a asp-controller="Home" asp-action="Index" class="promo-btn back-btn">üè† Quay l·∫°i trang ch·ªß</a>
    </div>

    <!-- Th√¥ng b√°o th√†nh c√¥ng -->
    @if (TempData["Success"] != null)
    {
        <div class="alert-success">
            @TempData["Success"]
        </div>
    }

    <!-- N·ªôi dung ch√≠nh -->
    <div class="promo-container">
        <h1 class="promo-title">Danh s√°ch khuy·∫øn m√£i</h1>

        @if (User.IsInRole("Admin"))
        {
            <div class="promo-action">
                <a asp-action="Create" class="promo-btn">‚ûï Th√™m khuy·∫øn m√£i</a>
            </div>
        }

        <div class="promo-card-list">
            @foreach (var item in Model)
            {
                <div class="promo-card">
                    <img src="@Url.Content("~/images/khuyenmai/" + item.HinhAnh)" class="promo-image" alt="H√¨nh khuy·∫øn m√£i" />
                    <div class="promo-info">
                        <h3>@item.TenKhuyenMai</h3>
                        <p><strong>Gi·∫£m gi√°:</strong> @item.PhanTramGiam%</p>
                        <p><strong>Th·ªùi gian:</strong> @item.NgayBatDau.ToString("dd/MM/yyyy") - @item.NgayKetThuc.ToString("dd/MM/yyyy")</p>
                        <p><strong>H√≥a ƒë∆°n t·ªëi thi·ªÉu:</strong> @((item.HoaDonToiThieu ?? 0).ToString("N0") + "‚Ç´")</p>
                        <p><strong>H√≥a ƒë∆°n t·ªëi ƒëa:</strong> @($"{(item.HoaDonToiDa ?? 0).ToString("N0")}‚Ç´")</p>
                        @if (User.IsInRole("Admin"))
                        {
                            <div class="promo-actions">
                                <a asp-action="Edit" asp-route-id="@item.Id" class="promo-edit">üõ†Ô∏è S·ª≠a</a>
                                <a asp-action="Delete" asp-route-id="@item.Id" class="promo-delete">üóëÔ∏è X√≥a</a>
                            </div>
                        }
                    </div>
                </div>
            }
        </div>
    </div>

    <!-- Particle background script -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 50 },
                "color": { "value": "#ffffff" },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.4 },
                "size": { "value": 3 },
                "line_linked": { "enable": false },
                "move": { "speed": 1, "out_mode": "out" }
            }
        });
    </script>
</body>
</html>
